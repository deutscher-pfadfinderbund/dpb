{% extends "base.html" %}

{% block heading %}
  <h1>Bundesarchiv</h1>
{% endblock %}

{% block content %}
  {% if user.is_staff %}
    {% if errors %}
      <div class="alert alert-warning" role="alert">Deine Eingabe ist leider zu kurz. Du musst mindestens 4 Zeichen angeben.</div>
    {% endif %}

    <p>
      <form method="get" action="" class="form-horizontal">
        <div class="form-group">
          <label for="id_q" class="col-sm-2 control-label">Volltextsuche</label>
          <div class="col-sm-10">
            <input type="text" name="q" id="id_q" value="{{ query|default_if_none:'' }}" class="form-control" placeholder="Kompassnadel, ..."/>
          </div>
        </div>

        <div id="target" style="">
          <div class="form-group">
            <label for="id_title" class="col-sm-2 control-label">Titel</label>
            <div class="col-sm-10">
              <input type="text" name="title" id="id_title" value="{{ title|default_if_none:'' }}" class="form-control" placeholder="Titel"/>
            </div>
          </div>

          <div class="form-group">
            <label for="id_author" class="col-sm-2 control-label">Autor</label>
            <div class="col-sm-10">
              <input type="text" name="author" id="id_author" value="{{ author|default_if_none:'' }}" class="form-control" placeholder="Deutscher Pfadfinderbund"/>
            </div>
          </div>

          <div class="form-group">
            <label for="id_keyword" class="col-sm-2 control-label">Schlagwort</label>
            <div class="col-sm-10">
              <input type="text" name="keyword" id="id_keyword" value="{{ keyword|default_if_none:'' }}" class="form-control" placeholder="Schlagwort"/>
            </div>
          </div>

          <div class="form-group">
            <label for="id_doctype" class="col-sm-2 control-label">Dokumententyp</label>
            <div class="col-sm-10">
              <input type="text" name="doctype" id="id_doctype" value="{{ doctype|default_if_none:'' }}" class="form-control" placeholder="Dokumentyp" disabled/>
            </div>
          </div>

          <div class="checkbox" style="display: none">
            <input id="extended-checkbox" type="checkbox" name="extended">
          </div>
        </div>

        <div class="text-right">
          <div class="pull-left">
            <a href="javascript:void(0);" class="button" onclick="$('#target').toggle();">Erweiterte Suche</a>
          </div>
          <input type="submit" value="Suchen" class="btn btn-default"/>
        </div>
      </form>


{#      <form method="get" action="" class="form-inline">#}
{#        <div class="form-group">#}
{#          <input type="text" name="q" id="id_q" value="{{ query|default_if_none:'' }}" class="form-control" placeholder="Kompassnadel, ..."/>#}
{#        </div>#}
{#        <input type="submit" value="Suchen" class="btn btn-default"/>#}
{#        <a href="javascript:void(0);" class="button" onclick="$('#target').toggle();">Erweiterte Suche</a>#}
{#        <div id="target" style="">#}
{#          <div class="form-group">#}
{#            <label for="inputPassword" class="col-sm-2 control-label">Password</label>#}
{#            <div class="col-sm-10">#}
{#              <input type="password" class="form-control" id="inputPassword" placeholder="Password">#}
{#            </div>#}
{#          </div>#}
{##}
{#          <div class="input-group">#}
{#            <label class="" for="author_include">Input with help text</label>#}
{#            <div class="input-group-btn">#}
{#              <select class="form-control" id="author_include">#}
{#                <option>enthält</option>#}
{#                <option>enthält nicht</option>#}
{#              </select>#}
{#            </div>#}
{#            <input type="text" class="form-control" aria-label="...">#}
{#          </div>#}
{#        </div>#}
{#      </form>#}
    </p>
    <p>
      {% if results %}
        <table class="table table-condensed table-striped table-hover">
          <thead>
            <th>
              Titel
            </th>
            <th>
              Autor
            </th>
            <th data-sortable="true">
              Jahr
            </th>
          </thead>
          <tbody>
          {% for item in results %}
            <tr>
              <td>
                {{ item.title }}
              </td>
              <td>
                {{ item.author }}
              </td>
              <td>
                {% if not item.year == 0 %}
                  {{ item.year }}
                {% endif %}
              </td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      {% elif query != "" %}
        Keine Einträge gefunden.
      {% endif %}
    </p>
  {% else %}
    <p>
      Das Bundesarchiv ist noch nicht öffentlich für alle Mitglieder des DPBs einsehbar, aber wir arbeiten dran!
    </p>
  {% endif %}
{% endblock %}
